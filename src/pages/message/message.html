<!--
  Generated template for the MessagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Payment History</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-refresher (ionRefresh) = 'doRefresh($event)'>
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
 
  <div *ngIf='history' text-center> 
    <div *ngFor = "let hist of history, let i=index" text-wrap (click)="toggleLevel1('idx'+i)" [ngClass]="{active: isLevel1Shown('idx'+i)}">
      <h4>
        {{hist.topup_date}}
        <ion-icon color="success" item-right [name]="isLevel1Shown('idx'+i) ? 'arrow-dropdown' : 'arrow-dropright'"></ion-icon>
      </h4>
      <div *ngIf="isLevel1Shown('idx'+i)">    
          <h6>Amount: {{hist.amount}}</h6>
          <h6> Payment_type: {{hist.payment_type}}</h6>
          <br>
      </div>  
    </div>
  </div>
  <div *ngIf='!history' text-center>
    {{test}}
  </div>


</ion-content>
